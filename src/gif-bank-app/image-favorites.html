<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-app.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-query.html">
<link rel="import" href="../../bower_components/iron-list/iron-list.html">

<dom-module id="image-favorites">
  <template>
    <style>

    /********* Favorites **********/
    #favorites {
      width: 500px;
      height: 500px;
      background-color: #5a855a;
      }
      
      .error {
        color: red;
      }

      paper-button {
        margin-top: 20px;
        background-color: #5a855a;
      }

      paper-input {
        width: 300px;
        height: 50px;

        background-color: white;
        border-radius: 5px;
      }

      #favoriteList {
        height: 200px;
      }
    </style>

    <firebase-query
    path="/user/[[uid]]"
    data="{{qryData}}">
    </firebase-query>

    

    <div id="favorites">
      <h1>Favorites</h1>
      <iron-list id="favoriteList">
        <template is="dom-repeat" items="{{qryData.images}}" as="item">
          <div>
              <img src="[[item.$val]]" height="200" width="200">
          </div>

        </template>
      </iron-list>
    </div>

    </template>

  <script>
    /**
     * @customElement
     * @polymer
     */
    class ImageFavorites extends Polymer.Element {
      static get is() { return 'image-favorites'; }

      dataChanged(e) {
        
        console.log(e[1]);
        return e[1];
      }

       static get properties() {

        return {
          uid: {
            type: String,
            value: localStorage.getItem('uid')
          },
          qryData: {
            type: Object,
            observer: 'dataChanged'
          },
          test: {
            type: String,
            value: localStorage.getItem('currentFav')
          }
        };
      }
    }

    window.customElements.define(ImageFavorites.is, ImageFavorites);
  </script>
</dom-module>